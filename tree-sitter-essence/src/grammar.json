{
  "$schema": "https://tree-sitter.github.io/tree-sitter/assets/schemas/grammar.schema.json",
  "name": "simple_essence",
  "rules": {
    "program": {
      "type": "REPEAT",
      "content": {
        "type": "SYMBOL",
        "name": "statement"
      }
    },
    "statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "declaration_statement"
        },
        {
          "type": "SYMBOL",
          "name": "branching_statement"
        },
        {
          "type": "SYMBOL",
          "name": "such_that_statement"
        },
        {
          "type": "SYMBOL",
          "name": "where_statement"
        },
        {
          "type": "SYMBOL",
          "name": "objective_statement"
        }
      ]
    },
    "declaration_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "find_statement"
        },
        {
          "type": "SYMBOL",
          "name": "given_statement"
        },
        {
          "type": "SYMBOL",
          "name": "letting_statement"
        },
        {
          "type": "SYMBOL",
          "name": "given_enum"
        },
        {
          "type": "SYMBOL",
          "name": "letting_enum"
        },
        {
          "type": "SYMBOL",
          "name": "letting_unnamed"
        }
      ]
    },
    "find_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "find"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "identifier"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "given_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "given"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "identifier"
          }
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "letting_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "letting"
        },
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "be"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "expression"
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "domain"
                },
                {
                  "type": "SYMBOL",
                  "name": "domain_declaration"
                }
              ]
            }
          ]
        }
      ]
    },
    "given_enum": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "given"
        },
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "new type enum"
        }
      ]
    },
    "letting_enum": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "letting"
        },
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "be new type enum"
        },
        {
          "type": "SYMBOL",
          "name": "list"
        }
      ]
    },
    "list": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "list placeholder"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SYMBOL",
            "name": "expression"
          }
        }
      ]
    },
    "letting_unnamed": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "letting"
        },
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "be new type of size"
        },
        {
          "type": "SYMBOL",
          "name": "expression"
        }
      ]
    },
    "branching_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "branching on"
        },
        {
          "type": "SYMBOL",
          "name": "list"
        }
      ]
    },
    "such_that_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "such that"
        },
        {
          "type": "SYMBOL",
          "name": "expression"
        }
      ]
    },
    "where_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "where"
        },
        {
          "type": "SYMBOL",
          "name": "list"
        }
      ]
    },
    "objective_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "minimising"
            },
            {
              "type": "SYMBOL",
              "name": "expression"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "maximising"
            },
            {
              "type": "SYMBOL",
              "name": "expression"
            }
          ]
        }
      ]
    },
    "domain_declaration": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "bool"
        },
        {
          "type": "SYMBOL",
          "name": "int_range"
        },
        {
          "type": "SYMBOL",
          "name": "enum_range"
        },
        {
          "type": "SYMBOL",
          "name": "tuple_range"
        },
        {
          "type": "SYMBOL",
          "name": "record_range"
        },
        {
          "type": "SYMBOL",
          "name": "variant_range"
        },
        {
          "type": "SYMBOL",
          "name": "matrix_domain"
        },
        {
          "type": "SYMBOL",
          "name": "set_domain"
        },
        {
          "type": "SYMBOL",
          "name": "mset_domain"
        },
        {
          "type": "SYMBOL",
          "name": "function_domain"
        },
        {
          "type": "SYMBOL",
          "name": "sequence_domain"
        }
      ]
    },
    "int_range": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "STRING",
            "value": "int"
          },
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "SEQ",
                "members": [
                  {
                    "type": "STRING",
                    "value": "("
                  },
                  {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "expression"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "lower_bound_range"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "upper_bound_range"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "closed_range"
                      }
                    ]
                  },
                  {
                    "type": "STRING",
                    "value": ")"
                  }
                ]
              },
              {
                "type": "BLANK"
              }
            ]
          }
        ]
      }
    },
    "lower_bound_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "expression"
        },
        {
          "type": "STRING",
          "value": ".."
        }
      ]
    },
    "upper_bound_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": ".."
        },
        {
          "type": "SYMBOL",
          "name": "expression"
        }
      ]
    },
    "closed_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "expression"
        },
        {
          "type": "STRING",
          "value": ".."
        },
        {
          "type": "SYMBOL",
          "name": "expression"
        }
      ]
    },
    "enum_range": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "SYMBOL",
            "name": "identifier"
          },
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "SEQ",
                "members": [
                  {
                    "type": "STRING",
                    "value": "("
                  },
                  {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "expression"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "lower_bound_range"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "upper_bound_range"
                      },
                      {
                        "type": "SYMBOL",
                        "name": "closed_range"
                      }
                    ]
                  },
                  {
                    "type": "STRING",
                    "value": ")"
                  }
                ]
              },
              {
                "type": "BLANK"
              }
            ]
          }
        ]
      }
    },
    "tuple_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "tuple"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "("
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "domain_declaration"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": ")"
        }
      ]
    },
    "record_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "record"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "name_domain_pair"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "name_domain_pair": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "variant_range": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "variant"
        },
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "name_domain_pair"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "matrix_domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "matrix indexed by"
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "domain_declaration"
              },
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "]"
        },
        {
          "type": "STRING",
          "value": "of"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "set_domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "set"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "("
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "attribute"
                      },
                      {
                        "type": "CHOICE",
                        "members": [
                          {
                            "type": "STRING",
                            "value": ","
                          },
                          {
                            "type": "BLANK"
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": ")"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "of"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "mset_domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "mset"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "REPEAT",
              "content": {
                "type": "SEQ",
                "members": [
                  {
                    "type": "SYMBOL",
                    "name": "attribute"
                  },
                  {
                    "type": "CHOICE",
                    "members": [
                      {
                        "type": "STRING",
                        "value": ","
                      },
                      {
                        "type": "BLANK"
                      }
                    ]
                  }
                ]
              }
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "function_domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "function"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "("
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "attribute"
                      },
                      {
                        "type": "CHOICE",
                        "members": [
                          {
                            "type": "STRING",
                            "value": ","
                          },
                          {
                            "type": "BLANK"
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": ")"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        },
        {
          "type": "STRING",
          "value": "-->"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "sequence_domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "sequence"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "("
                },
                {
                  "type": "REPEAT",
                  "content": {
                    "type": "SEQ",
                    "members": [
                      {
                        "type": "SYMBOL",
                        "name": "attribute"
                      },
                      {
                        "type": "CHOICE",
                        "members": [
                          {
                            "type": "STRING",
                            "value": ","
                          },
                          {
                            "type": "BLANK"
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "STRING",
                  "value": ")"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "of"
        },
        {
          "type": "SYMBOL",
          "name": "domain_declaration"
        }
      ]
    },
    "attribute": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "cardinality_attribute"
        },
        {
          "type": "SYMBOL",
          "name": "num_occurences_attribute"
        },
        {
          "type": "SYMBOL",
          "name": "partiality_attribute"
        },
        {
          "type": "SYMBOL",
          "name": "function_property_attribute"
        }
      ]
    },
    "cardinality_attribute": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "size"
        },
        {
          "type": "STRING",
          "value": "minSize"
        },
        {
          "type": "STRING",
          "value": "maxSixe"
        }
      ]
    },
    "num_occurences_attribute": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "minOccur"
        },
        {
          "type": "STRING",
          "value": "maxOccur"
        }
      ]
    },
    "partiality_attribute": {
      "type": "STRING",
      "value": "total"
    },
    "function_property_attribute": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "injective"
        },
        {
          "type": "STRING",
          "value": "surjective"
        },
        {
          "type": "STRING",
          "value": "bijective"
        }
      ]
    },
    "expression": {
      "type": "PREC_LEFT",
      "value": 0,
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "assignment_expression"
          },
          {
            "type": "SYMBOL",
            "name": "literal"
          },
          {
            "type": "SYMBOL",
            "name": "operator"
          },
          {
            "type": "SYMBOL",
            "name": "identifier"
          }
        ]
      }
    },
    "literal": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "decimal_integer_literal"
        },
        {
          "type": "SYMBOL",
          "name": "true"
        },
        {
          "type": "SYMBOL",
          "name": "false"
        }
      ]
    },
    "decimal_integer_literal": {
      "type": "PATTERN",
      "value": "\\d+"
    },
    "true": {
      "type": "STRING",
      "value": "true"
    },
    "false": {
      "type": "STRING",
      "value": "false"
    },
    "assignment_expression": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "identifier"
        },
        {
          "type": "STRING",
          "value": "="
        },
        {
          "type": "SYMBOL",
          "name": "decimal_integer_literal"
        }
      ]
    },
    "operator": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "+"
        },
        {
          "type": "STRING",
          "value": "-"
        },
        {
          "type": "STRING",
          "value": "*"
        },
        {
          "type": "STRING",
          "value": "/"
        },
        {
          "type": "STRING",
          "value": "="
        }
      ]
    },
    "identifier": {
      "type": "PATTERN",
      "value": "[\\p{XID_Start}_$][\\p{XID_Continue}\\u00A2_$]*"
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}
